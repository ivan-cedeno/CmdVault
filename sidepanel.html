<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CmdVault</title>
    <link rel="stylesheet" href="style.css">
    <script src="new_sidepanel.js" defer></script>
</head>
<body class="theme-hacker">

    <div class="top-bar">
        <div class="header-row">
            <div class="app-title">user@CmdVault:~$</div>
            <div class="action-buttons">
                <button id="btn-add-root" class="icon-btn" title="New Root Folder">â•</button>
                <div class="separator"></div>
                <button id="btn-clear-clipboard" class="icon-btn" title="Clear Clipboard">ğŸ§¹</button>
                <div class="separator"></div>
                
                <button id="btn-settings" class="icon-btn" title="Configuration">âš™ï¸</button>
                <div class="separator"></div>
                <button id="btn-dock-toggle" class="icon-btn" title="Dock / Undock">ğŸš€</button>
            </div>
        </div>
        <div class="search-row">
            <span class="search-icon">ğŸ”</span>
            <input type="text" id="search-input" placeholder="Search command...">
        </div>
    </div>

    <div class="main-content">
        <div id="quick-access-container" class="section-container hidden">
            <div id="qa-header" class="section-header">
                <span class="section-label">â­ Favorites</span>
                <span id="qa-arrow">â–¼</span>
            </div>
            <div id="qa-list" class="section-content"></div>
        </div>

        <div id="history-container" class="section-container">
            <div id="history-header" class="section-header">
                <span class="section-label">ğŸ“œ Last Used</span>
                <span id="hist-arrow">â–¼</span>
            </div>
            <div id="history-list" class="section-content"></div>
        </div>
        
        <div id="commands-wrapper" class="section-container">
            <div id="commands-header" class="section-header" style="cursor: pointer; display: flex; justify-content: space-between; align-items: center;">
                <span class="section-label">ğŸ“‚ All Commands</span>
                <span id="cmd-arrow">â–¼</span>
            </div>
            
            <div id="tree-container" class="section-content"></div>
        </div>
    </div>

    <input type="file" id="file-input" hidden accept=".json">
    <div id="status-msg" class="status-msg hidden"></div>

    <!-- CONTEXT MENU ACTUALIZADO -->
  <div id="context-menu" class="context-menu hidden">
    
    <div id="ctx-folder-section">
        <div style="font-size: 11px; color: var(--md-sys-color-on-surface-variant); margin: 8px 0 4px 8px; text-transform: uppercase; letter-spacing: 0.5px;">Folder Color</div>
        <div id="ctx-colors" class="color-palette"></div>
        <hr>
        <div class="ctx-item" id="ctx-add-folder">ğŸ“ New Sub-Folder</div>
        <div class="ctx-item" id="ctx-add-cmd">ğŸ’» Add Command</div>
        <hr id="ctx-sep-1">
    </div>

  <div id="ctx-cmd-section" class="hidden">
    
    <div style="font-size: 11px; color: var(--md-sys-color-on-surface-variant); margin: 8px 0 4px 8px; text-transform: uppercase; letter-spacing: 0.5px;">
        Icon Type
    </div>
    
    <div class="icon-selector">                
        <span class="icon-option" data-icon="âŒ¨ï¸">âŒ¨ï¸ cmd</span>
        <span class="icon-option" data-icon="âš¡">âš¡script</span>
        <span class="icon-option" data-icon="ğŸ§¾">ğŸ§¾txt</span>
        <span class="icon-option" data-icon="ğŸ”‘">ğŸ”‘pwd</span>
        <span class="icon-option" data-icon="ğŸ”´">ğŸ”´</span>                             
        <span class="icon-option" data-icon="ğŸŸ¢">ğŸŸ¢</span>                             
        <span class="icon-option" data-icon="ğŸ”µ">ğŸ”µ</span>
        <span class="icon-option" data-icon="ğŸŸ¡">ğŸŸ¡</span>
        <span class="icon-option" data-icon="âš«">âš«</span> 
                                               
    </div>
   

    <div class="ctx-item" id="ctx-pin-toggle">ğŸ“Œ Pin / Unpin</div>
    
    <div class="ctx-item" id="ctx-copy">ğŸ“‹ Copy</div>
    <div class="ctx-item" id="ctx-cut">âœ‚ï¸ Cut</div>
    <hr>
    <div class="ctx-item" id="ctx-paste" style="display:none">ğŸ“‹ Paste</div>
    
    </div>
    
    <div class="ctx-item" id="ctx-edit">âœï¸ Edit</div>
    <div class="ctx-item danger" id="ctx-delete">ğŸ—‘ï¸ Delete</div>
</div>

    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal-box">
            <div class="modal-header">Variables</div>
            <div id="variable-fields"></div>
            <div class="modal-actions">
                <button id="btn-modal-cancel" class="btn-cancel">Cancel</button>
                <button id="btn-modal-copy" class="btn-confirm">Copy</button>
            </div>
        </div>
    </div>

    <div id="settings-overlay" class="settings-overlay hidden">
        <div class="settings-box">
            <h3 style="margin: 0 0 15px 0; font-size: 14px; font-weight: 600; text-transform: uppercase; color: var(--md-sys-color-primary); border-bottom: 2px solid var(--md-sys-color-surface-container-high); padding-bottom: 5px;">
                User Information
            </h3>
            <div style="margin-bottom: 20px;">
                <label style="display:block; margin-bottom: 8px; font-size: 0.9em;">Display Name</label>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="text" id="username-input" placeholder="e.g. user" maxlength="20">
                    <button id="btn-save-username" class="btn-secondary">Save</button>
                </div>
            </div>
            <div style="margin-bottom: 25px;">
                <label style="display:block; margin-bottom: 8px; font-size: 0.9em;">Interface Theme</label>
                <select id="theme-selector">
                    <option value="theme-dark">ğŸŒ™ Dark (Default)</option>
                    <option value="theme-light">â˜€ï¸ Light</option>
                    <option value="theme-hacker">ğŸ‘¾ Hacker</option>
                    <option value="theme-ocean">ğŸŒŠ Ocean</option>
                    <option value="theme-teradata">ğŸŸ  Teradata</option>
                    <option value="theme-spartan">ğŸª“ God of War</option>
                    <option value="theme-n64">ğŸ® Nintendo 64</option>
                    <option value="theme-xbox">Xbox One</option>
                    <option value="theme-fender">Fender Vintage</option>
                    <option value="theme-turquoise">Turquoise Ocean</option>
                </select>
            </div>
            
            <h3 style="margin: 0 0 15px 0; font-size: 14px; font-weight: 600; text-transform: uppercase; color: var(--md-sys-color-primary); border-bottom: 2px solid var(--md-sys-color-surface-container-high); padding-bottom: 5px;">
                Cloud Sync
            </h3>
            <div style="margin-bottom: 20px;">
                <label style="display:block; margin-bottom: 8px; font-size: 0.9em;">GitHub Access Token</label>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <input type="password" id="gh-token-input" placeholder="ghp_...">
                    <button id="btn-save-token" class="btn-secondary">Save</button>
                </div>
            </div>
            <div class="sync-actions" style="margin-bottom: 25px; display: flex; gap: 10px;">
                <button id="btn-sync-upload" class="btn-gh upload" disabled style="flex:1;">â¬†ï¸ Push</button>
                <button id="btn-sync-download" class="btn-gh download" disabled style="flex:1;">â¬‡ï¸ Fetch</button>
            </div>
            
            <h3 style="margin: 0 0 15px 0; font-size: 14px; font-weight: 600; text-transform: uppercase; color: var(--md-sys-color-primary); border-bottom: 2px solid var(--md-sys-color-surface-container-high); padding-bottom: 5px;">
                Data Management
            </h3>
            <div style="display:flex; gap:10px; margin-bottom: 25px;">
                <button id="btn-export" class="icon-btn" style="flex:1;">ğŸ’¾ Backup</button>
                <button id="btn-import" class="icon-btn" style="flex:1;">ğŸ“‚ Import</button>
                <button id="btn-reset" class="icon-btn danger" style="flex:1;">ğŸ—‘ï¸ Reset</button>
            </div>

            <button id="btn-close-settings" class="btn-secondary" style="margin-top: 10px;">Close</button>
        </div>
    </div>
</body>
</html>

